## 目录

[TOC]

## 云函数

### 获取比赛

> 云函数名：getContests

#### 请求参数

| 参数名称 | 参数类型 | 描述               | 备注                           | 是否必须 |
| -------- | -------- | ------------------ | ------------------------------ | -------- |
| mon      | Int      | 比赛开始时间的月份 | 为空或非法值则不做限制查找     | 否       |
| type     | String   | 比赛的类型         | 为空则不做限制查找，非法值报错 | 否       |
| level    | String   | 比赛的等级         | 为空则不做限制查找，非法值报错 | 否       |

无

#### 返回说明

| 参数名称  | 参数类型 | 描述                                     |
| --------- | -------- | ---------------------------------------- |
| errMsg    | String   | 云函数调用信息，微信自动生成的           |
| requestID | String   | 云函数调用信息，微信自动生成的           |
| result    | 不定     | 返回的所有竞赛信息(若失败则返回错误信息) |
| **host**     | String | 主办方                                   |                                        |
| **level**    | String | 级别                                     | 校级、市级、省级、全国性、全球性、自由 |
| **title**    | String | 标题                                     |                                        |
| **关注人数** | int    | 关注人数                                 |                                        |
| ***时间**    | Date   | 时间                                     | 标准时间格式，中国时区                 |
| **浏览量**   | String | 浏览量                                   |                                        |
| **竞赛信息** | String | 详细的竞赛内容                           |                                        |

#### 返回示例

```json
{
    'requestID': "60b1c9d8-9b55-11eb-9e92-5254001dad8e",
    'result': [
        {
        'host': "中国优选法统筹法与经济数学研究会",
        'level': "全国性",
        'title': "2021年第十一届MathorCup高校数学建模挑战赛",
        'url': "https://www.saikr.com/vse/mathorcup/2021",
        '关注人数': 789,
        '报名开始时间': "2020-12-31T16:00:00.000Z",
        '报名结束时间': "2021-04-13T16:00:00.000Z",
        '比赛开始时间': "2021-04-14T16:00:00.000Z",
        '比赛结束时间': "2021-04-18T16:00:00.000Z",
        '浏览量': "42万",
        '竞赛信息': "2021年第十一届MathorCup高校数学建模挑战赛...",
        '_id': "5b00f9706071bc0d075b39574a53f335"
    	}
    ]
}
```



### 获取比赛列表（弃用）

> 云函数名：getContestsList

#### 请求参数

无

#### 返回说明

| 参数名称  | 参数类型 | 描述                                     |
| --------- | -------- | ---------------------------------------- |
| errMsg    | String   | 云函数调用信息，微信自动生成的           |
| requestID | String   | 云函数调用信息，微信自动生成的           |
| result    | 不定     | 返回的所有竞赛信息(若失败则返回错误信息) |

#### 返回示例

```json
{
    'requestID': "60b1c9d8-9b55-11eb-9e92-5254001dad8e",
    'result': [
        {
        'host': "中国优选法统筹法与经济数学研究会",
        'level': "全国性",
        'title': "2021年第十一届MathorCup高校数学建模挑战赛",
        'url': "https://www.saikr.com/vse/mathorcup/2021",
        '关注人数': 789,
        '报名开始时间': "2020-12-31T16:00:00.000Z",
        '报名结束时间': "2021-04-13T16:00:00.000Z",
        '比赛开始时间': "2021-04-14T16:00:00.000Z",
        '比赛结束时间': "2021-04-18T16:00:00.000Z",
        '浏览量': "42万",
        '竞赛信息': "2021年第十一届MathorCup高校数学建模挑战赛...",
        '_id': "5b00f9706071bc0d075b39574a53f335"
    	}
    ]
}
```

### 获取单个比赛

> 云函数名：getContestById

#### 请求参数

| 参数名称 | 类型   | 说明         | 备注 | 是否必须 |
| -------- | ------ | ------------ | ---- | -------- |
| id       | String | 比赛的唯一id |      | 是       |



#### 返回说明

| 参数名称     | 类型   | 说明                                     | 备注                                   |
| ------------ | ------ | ---------------------------------------- | -------------------------------------- |
| errMsg       | String | 云函数调用信息，微信自动生成             |                                        |
| requestID    | String | 云函数调用信息，微信自动生成             |                                        |
| result       | 不定   | 返回查询的竞赛信息(若失败则返回错误信息) |                                        |
| **host**     | String | 主办方                                   |                                        |
| **level**    | String | 级别                                     | 校级、市级、省级、全国性、全球性、自由 |
| **title**    | String | 标题                                     |                                        |
| **关注人数** | int    | 关注人数                                 |                                        |
| ***时间**    | Date   | 时间                                     | 标准时间格式，中国时区                 |
| **浏览量**   | String | 浏览量                                   |                                        |
| **竞赛信息** | String | 详细的竞赛内容                           |                                        |

#### 返回示例

```json
{
    'errMsg': "cloud.callFunction:ok",
    'requestID': "60b1c9d8-9b55-11eb-9e92-5254001dad8e",
    'result': {
        'host': "中国优选法统筹法与经济数学研究会",
        'level': "全国性",
        'title': "2021年第十一届MathorCup高校数学建模挑战赛",
        'url': "https://www.saikr.com/vse/mathorcup/2021",
        '关注人数': 789,
        '报名开始时间': "2020-12-31T16:00:00.000Z",
        '报名结束时间': "2021-04-13T16:00:00.000Z",
        '比赛开始时间': "2021-04-14T16:00:00.000Z",
        '比赛结束时间': "2021-04-18T16:00:00.000Z",
        '浏览量': "42万",
        '竞赛信息': "2021年第十一届MathorCup高校数学建模挑战赛...",
        '_id': "5b00f9706071bc0d075b39574a53f335"
    }
}
```

